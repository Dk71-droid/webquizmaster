<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kelola Soal - Quiz Master</title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
  </head>
  <body>
    <header class="header">
      <div class="container">
        <div class="logo" onclick="goToDashboard()">
          <i class="fas fa-graduation-cap"></i>
          Quiz Master
        </div>
        <div class="user-info">
          <div class="score-display">
            <i class="fas fa-star"></i>
            <span id="totalScore">0</span>
          </div>
          <div class="progress-ring">
            <svg width="50" height="50" class="progress-svg">
              <circle
                cx="25"
                cy="25"
                r="20"
                stroke="#ecf0f1"
                stroke-width="5"
                fill="none"
              />
              <circle
                id="progress-circle"
                cx="25"
                cy="25"
                r="20"
                stroke-width="5"
                fill="none"
              />
            </svg>
            <span class="progress-text" id="progressText">0%</span>
          </div>
          <div class="settings-icon" onclick="showSettings()">
            <i class="fas fa-cog"></i>
          </div>
        </div>
      </div>
    </header>

    <main class="main-content">
      <section class="level-section">
        <div class="section-header">
          <p></p>
        </div>
        <div id="levelsList" class="level-grid"></div>
        <button id="addQuestionBtn" class="btn-primary floating-add-btn">
          <i class="fas fa-plus"></i>
        </button>
      </section>
    </main>

    <div id="particles" class="particles-container"></div>

    <div id="settingsModal" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Pengaturan</h2>
          <button class="btn-close" onclick="closeSettings()">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <form id="settingsForm">
          <div class="form-group">
            <label for="questionTime">Waktu per Soal (detik):</label>
            <input
              type="number"
              id="questionTime"
              min="10"
              max="60"
              value="30"
            />
          </div>
          <div class="form-group">
            <label>
              <input type="checkbox" id="showFeedback" checked />
              Tampilkan Umpan Balik Jawaban
            </label>
          </div>
          <div class="form-group">
            <label>
              <input type="checkbox" id="shuffleQuestions" checked />
              Acak Urutan Soal
            </label>
          </div>
          <div class="form-group">
            <label>
              <input type="checkbox" id="darkMode" />
              Mode Gelap
            </label>
          </div>
          <div class="form-group">
            <div class="toggle-header" onclick="toggleLevelRepeats()">
              <h3>Pengaturan Pengulangan Level</h3>
              <i id="toggleIcon" class="fas fa-chevron-down"></i>
            </div>
            <div id="levelRepeatsSettings" class="hidden"></div>
          </div>
          <div class="modal-actions">
            <button
              type="button"
              class="btn-secondary"
              onclick="closeSettings()"
            >
              Batal
            </button>
            <button type="submit" class="btn-primary">Simpan</button>
          </div>
        </form>
      </div>
    </div>

    <div id="questionModal" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="questionModalTitle">Tambah Soal</h2>
          <button class="btn-close" onclick="closeQuestionModal()">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <form id="questionForm">
          <div class="form-group">
            <label for="questionLevel">Level:</label>
            <select id="questionLevel" onchange="toggleNewLevelInput()">
              <option value="">Pilih Level</option>
            </select>
            <div id="newLevelContainer" class="hidden">
              <label for="newLevelName">Nama Level Baru:</label>
              <input type="text" id="newLevelName" />
            </div>
          </div>
          <div class="form-group">
            <label for="questionText">Teks Soal:</label>
            <textarea id="questionText"></textarea>
          </div>
          <div class="form-group">
            <label for="option1">Opsi 1:</label>
            <input type="text" id="option1" />
          </div>
          <div class="form-group">
            <label for="option2">Opsi 2:</label>
            <input type="text" id="option2" />
          </div>
          <div class="form-group">
            <label for="option3">Opsi 3:</label>
            <input type="text" id="option3" />
          </div>
          <div class="form-group">
            <label for="option4">Opsi 4:</label>
            <input type="text" id="option4" />
          </div>
          <div class="form-group">
            <label for="correctAnswer">Jawaban Benar:</label>
            <select id="correctAnswer">
              <option value="0">Opsi 1</option>
              <option value="1">Opsi 2</option>
              <option value="2">Opsi 3</option>
              <option value="3">Opsi 4</option>
            </select>
          </div>
          <input type="hidden" id="questionId" />
          <div class="form-actions">
            <button
              type="button"
              class="btn-secondary"
              onclick="closeQuestionModal()"
            >
              Batal
            </button>
            <button type="submit" class="btn-primary">Simpan</button>
          </div>
        </form>
      </div>
    </div>

    <div id="toastContainer" class="toast-container"></div>

    <script src="manage-questions.js"></script>
  </body>
</html>
